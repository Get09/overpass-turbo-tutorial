# overpass-turbo-turorial
Code examples and tutorial on getting data out of OpenStreetMap

First, let's take a look at the interface
Buttons:
- *Run* fires off the code in the window. Result appears on the map to the right.
- *Share* gives you a link of the current query to..umm...share
- *Export* makes a sandwich. No! It allows you to download the result in GeoJSON, GPX, KML or XML.
- *Wizard* helps your construct queries
- *Save* keeps your query for the future
- *Load* brings up any saved queries
- *Settings* pick a new background, language and spin cycle
- *Help* not as effective as 911



Overpass turbo allows you to query anything in OpenStreetMap. The only real limit seems to be size. So, trying to download the nation's freeway system may not be possible. But you could for Los Angeles County.

A good start is defining what you want in terms of OSM's tags. 

## Get all drinking fountains in Griffith Park

For instance, to download all the water fountains in Griffith Park you'll need to use OSM's tag [amenity=drinking_watter](http://wiki.openstreetmap.org/wiki/Tag:amenity%3Ddrinking_water). A quick Google search of search of the OSM Wiki will help you.

The easiest thing to do is to drop `amenity=drinking_watter` into Overpass turbo's "Wizard" if the map is showing Griffith Park.

![drinkingwater](https://cloud.githubusercontent.com/assets/695934/17908091/d1466a30-6933-11e6-995f-db7df8a73eb6.gif)

[Overpass turbo](http://overpass-turbo.eu/s/hZu)

```
/*
This has been generated by the overpass-turbo wizard.
The original search was:
“amenity=drinking_water”
*/
[out:json][timeout:25];
// gather results
(
  // query part for: “amenity=drinking_water”
  node["amenity"="drinking_water"]({{bbox}});
  way["amenity"="drinking_water"]({{bbox}});
  relation["amenity"="drinking_water"]({{bbox}});
);
// print results
out body;
>;
out skel qt;
```
## Get all the freeways

![River homeless map](http://latimes-graphics-media.s3.amazonaws.com/assets/img/la-me-g-river-dwellers-04242016.png)

One common problem is to create a line map of just the freeways for reference (and nothing else). The Census provides a file for primary roads, but it excludes highways like the 101. 

![screen shot 2016-08-23 at 1 39 55 pm](https://cloud.githubusercontent.com/assets/695934/17908895/1b52e47a-6937-11e6-9457-48e5fdcfc089.png)
Census primary roads

It takes a combination of secondary and primary roads to get all the "freeways" like the 101 and the 134.

![screen shot 2016-08-23 at 1 41 05 pm](https://cloud.githubusercontent.com/assets/695934/17908936/42edfbc8-6937-11e6-8672-c5daf4f646c7.png)

But the census file also includes roads like Santa Monica Boulevard which we wouldn't want to include. 

The OSM tagging for freeways (and any roads or paths) is to use [highway=](http://wiki.openstreetmap.org/wiki/Key:highway)

Freeways fit into highway=motorway

![screen shot 2016-08-23 at 1 58 47 pm](https://cloud.githubusercontent.com/assets/695934/17909542/bda23fd0-6939-11e6-8b6a-87e446a3baaa.png)

[Overpass turbo](http://overpass-turbo.eu/s/hZx)
```
/*
This has been generated by the overpass-turbo wizard.
The original search was:
“highway=motorway”
*/
[out:json][timeout:25];
// gather results
(
  // query part for: “highway=motorway”
  node["highway"="motorway"]({{bbox}});
  way["highway"="motorway"]({{bbox}});
  relation["highway"="motorway"]({{bbox}});
);
// print results
out body;
>;
out skel qt;
```


## Drinking fountains of yore in Griffith Park (before Anthony added some more)

![screen_shot_2016-08-23_at_1_23_35_pm](https://cloud.githubusercontent.com/assets/695934/17908353/fad4b7ca-6934-11e6-8367-17519ac2bc48.png)


You can search for data in the past by adding a date next to the timeout. You'll also need to change `out body;` to `out meta;`

[Overpass turbo](http://overpass-turbo.eu/s/hZt)

```
/*
This has been generated by the overpass-turbo wizard.
The original search was:
“amenity=drinking_water”
*/
[out:json][timeout:25][date:"2016-08-21T00:00:00Z"];
// gather results
(
  // query part for: “amenity=drinking_water”
  node["amenity"="drinking_water"]({{bbox}});
  way["amenity"="drinking_water"]({{bbox}});
  relation["amenity"="drinking_water"]({{bbox}});
);
// print results
out meta;
>;
out skel qt;
```

## Request too big?
You can download straight out of Overpass turbo if you're request is too big. 
